{
  "hash": "6a2904020e57b7e8d133ac7d6be3c02c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Annexation Station\"\ndescription: \"Lookout for boundary changes when population totals jump\"\nauthor:\n  - name: Aaron Olson\n    url: https://github.com/marginofaaron\ndate: 12-14-2024\ncategories: [R, census] # self-defined categories\nimage: county_income.png\ndraft: false # setting this to `true` will prevent your post from appearing on your listing page until you're ready!\nformat:\n  html:\n    code-fold: true\n    code-tools: true\n    code-copy: true\nexecute:\n  warning: false\n  message: false\n---\n\n\n## Introduction\n\nAnalyzing population growth over time is a common task in demographic analysis but it can be more complex than it seems, particularly at municipal level. When city borders change, time-series analysis becomes difficult.\n\nFortunately, R has a series of packages that can help us navigate these challenges. This post details how I approach boundary changes in population analysis, using `tidycensus`, `sf` and `package name` using Kokomo, Indiana as an example.\n\n::: {.callout-note}\nThe analysis in this post uses the `tidycensus` R package. To learn more about how to set up and use that package, check out my blog post on it [here](https://aaroneolson.me/posts/2024-11-22-tidycensus-guide/). To view the code behind the analysis, click the dropdowns throughout.\n:::\n\n## Kokomo's Population Growth\n\nAccording to the most recent decennial Census, Kokomo, Indiana's population grew from around 45K in 2010 to over 59K in 2020. That seems significant and worth investigating, especially for a small city whose population had hovered between 44K and 47K since the 1960's.\n\nLet's turn to tidycensus.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Load packages and set up API key\"}\nlibrary(\"tidycensus\")\nlibrary(\"tidyverse\")\nlibrary('hrbrthemes')\ncensus_api_key(Sys.getenv(\"TIDYCENSUS_KEY\"), install = TRUE, overwrite = TRUE)\n```\n:::\n\n\n\n@fig-kokomo-2000-2010 shows the significant increase in the city's population between 2010 and 2020. The most logical follow-up is to see whether there is a jump in any particular year, or if the change was more gradual.\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Make a plot of Kokomo's population\"}\n# Get population of Kokomo, Indiana in 2000 using get_decennial\npop_2000 <- get_decennial(geography = \"place\", \n                          variables = \"PCT012001\", \n                          state = \"IN\", \n                          year = 2000) %>%\n  filter(\n    NAME == 'Kokomo city, Indiana'\n  )\n\n# Get population of Kokomo, Indiana in 2010 using get_decennial\npop_2010 <- get_decennial(geography = \"place\", \n                          variables = \"P001001\", \n                          state = \"IN\", \n                          year = 2010)  %>%\n  filter(\n    NAME == 'Kokomo city, Indiana'\n  )\n\n\n# Get population of Kokomo, Indiana in 2020 using get_decennial\npop_2020 <- get_decennial(geography = \"place\", \n                          variables = \"P1_001N\", \n                          state = \"IN\", \n                          year = 2020) %>%\n  filter(\n    NAME == 'Kokomo city, Indiana'\n  )\n\n\n# Combine the three data frames into one\nkokomo_pop_data <- bind_rows(pop_2000, pop_2010, pop_2020)\n\n# add a column for the year\nkokomo_pop_data$year <- c(2000, 2010, 2020)\n\n\n# Plot the population of Kokomo over time in a bar chart \nggplot(kokomo_pop_data, aes(x = year, y = value)) +\n  geom_bar(stat = \"identity\", fill = 'dodgerblue') +\n  labs(title = \"Population of Kokomo, Indiana\",\n       subtitle = \"2000, 2010, and 2020 Decennial Census\",\n       x = \"Year\",\n       y = \"Population\") +\n  theme_ipsum() +\n  theme(axis.text.x = element_text(hjust = 1)) +\n  scale_y_continuous(labels = scales::comma, limits = c(0, 62000)) +\n  geom_text(aes(label = scales::comma(value), y = value), vjust = -0.5)\n```\n\n::: {.cell-output-display}\n![Population of Kokomo, Indiana, 2000-2020. Decennial Census](Annexation-Station_files/figure-html/fig-kokomo-2000-2010-1.png){#fig-kokomo-2000-2010 width=672}\n:::\n:::\n\n\n\n\n If so, it should set off alarm bells that the city limits may have changed during this time period.\n\nSome text about the population estimates program chart below.\n\n\n\n::: {.cell}\n\n:::\n",
    "supporting": [
      "Annexation-Station_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}